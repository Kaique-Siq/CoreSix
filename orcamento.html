<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formul√°rio de Manuten√ß√£o</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 500px;
            width: 100%;
        }
        h1 { color: #667eea; margin-bottom: 30px; text-align: center; font-size: 28px; }
        .caixa { margin-bottom: 30px; }
        .caixa.visivel { opacity: 0; transform: translateY(20px); animation: fadeIn 0.5s forwards; }
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }
        .caixa.hidden { display: none; }
        .pergunta { font-size: 18px; font-weight: 600; color: #333; margin-bottom: 15px; }
        .opcoes { display: flex; flex-direction: column; gap: 10px; }
        .opcao {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }
        .opcao:hover { background: #e9ecef; border-color: #667eea; transform: translateX(5px); }
        .opcao.selecionado { background: #667eea; color: white; border-color: #667eea; }
        .resumo { background: #f8f9fa; border-radius: 10px; padding: 20px; margin-top: 20px; }
        .resumo h2 { color: #667eea; font-size: 20px; margin-bottom: 15px; }
        .resumo-item { margin-bottom: 10px; padding: 10px; background: white; border-radius: 5px; }
        .resumo-item strong { color: #667eea; }
        .form-contato { margin-top: 20px; padding: 20px; background: white; border-radius: 10px; }
        .form-contato label { display: block; font-weight: 600; color: #333; margin-bottom: 8px; }
        .form-contato input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 15px;
            transition: border-color 0.3s;
        }
        .form-contato input:focus { outline: none; border-color: #667eea; }
        .form-contato input.error { border-color: #ff4444; }
        .error-msg { color: #ff4444; font-size: 14px; margin-top: -10px; margin-bottom: 10px; display: none; }
        .error-msg.ativo { display: block; }
        .btn-enviar {
            background: #667eea; color: white; border: none; border-radius: 10px;
            padding: 15px 30px; font-size: 16px; font-weight: 600; cursor: pointer; width: 100%;
            margin-top: 20px; transition: all 0.3s;
        }
        .btn-enviar:hover { background: #5568d3; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102,126,234,0.4); }
        .btn-enviar:disabled { background: #ccc; cursor: not-allowed; transform: none; }
        .loading { display: none; text-align: center; padding: 20px; }
        .loading.ativo { display: block; }
        .spinner {
            border: 4px solid #f3f3f3; border-top: 4px solid #667eea; border-radius: 50%;
            width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .sucesso { display: none; text-align: center; padding: 30px; background: #d4edda; border-radius: 10px; color: #155724; }
        .sucesso.ativo { display: block; }
        .sucesso h2 { color: #155724; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Solicita√ß√£o de Manuten√ß√£o</h1>
        <div id="formulario">
            <div class="caixa visivel" id="caixa1">
                <div class="pergunta">Qual aparato tecnol√≥gico?</div>
                <div class="opcoes" id="opcoes1">
                    <div class="opcao" data-valor="celular">üì± Celular</div>
                    <div class="opcao" data-valor="computador">üíª Computador</div>
                    <div class="opcao" data-valor="impressora">üñ®Ô∏è Impressora</div>
                    <div class="opcao" data-valor="caixa-som">üîä Caixa de som</div>
                    <div class="opcao" data-valor="outros">üîß Outros</div>
                </div>
            </div>

            <div class="caixa hidden" id="caixa2">
                <div class="pergunta">Qual manuten√ß√£o voc√™ precisa?</div>
                <div class="opcoes" id="opcoes2"></div>
            </div>

            <div class="resumo hidden" id="resumo">
                <h2>üìã Resumo da Solicita√ß√£o</h2>
                <div class="resumo-item">
                    <strong>Aparelho:</strong> <span id="resumo-aparelho"></span>
                </div>
                <div class="resumo-item">
                    <strong>Problema:</strong> <span id="resumo-problema"></span>
                </div>
                
                <div class="form-contato">
                    <label for="nomeCliente">Nome completo:</label>
                    <input type="text" id="nomeCliente" placeholder="Seu nome" required>
                    
                    <label for="telefoneCliente">WhatsApp/Telefone:</label>
                    <input type="tel" id="telefoneCliente" placeholder="(00) 00000-0000" required>
                    <div class="error-msg" id="errorTelefone">Por favor, digite um telefone v√°lido</div>
                    
                    <label for="emailCliente">E-mail (opcional):</label>
                    <input type="email" id="emailCliente" placeholder="seu@email.com">
                </div>
                
                <button class="btn-enviar" id="btnEnviar">Enviar Solicita√ß√£o</button>
            </div>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p style="margin-top: 15px;">Enviando solicita√ß√£o...</p>
        </div>

        <div class="sucesso" id="sucesso">
            <h2>‚úÖ Solicita√ß√£o Enviada!</h2>
            <p>Recebemos sua solicita√ß√£o e entraremos em contato em breve!</p>
        </div>
    </div>

    <script>
        const manutencoes = {
            celular: ['üì± Tela quebrada','üîä √Åudio','üîò Bot√£o','üíß Acidente dom√©stico (√°gua, queda, etc.)','üîã Bateria','üì∂ Sinal/conectividade','‚ùì Outro'],
            computador: ['üíª Tela/monitor','‚å®Ô∏è Teclado','üñ±Ô∏è Mouse/touchpad','üîã Bateria','üêå Lentid√£o','ü¶† V√≠rus/malware','üíæ HD/SSD','‚ùì Outro'],
            impressora: ['üñ®Ô∏è N√£o imprime','üìÑ Atolamento de papel','üíß Vazamento de tinta','üì∂ Problema de conex√£o','‚öôÔ∏è Configura√ß√£o','‚ùì Outro'],
            'caixa-som': ['üîá Sem som','üîä Som distorcido','üîå Problema de conex√£o','üîã Bateria','‚öôÔ∏è Configura√ß√£o','‚ùì Outro'],
            outros: ['üîß Manuten√ß√£o preventiva','‚öôÔ∏è Configura√ß√£o','üìö Suporte t√©cnico','‚ùì Outro problema']
        };

        let selecoes = { aparelho:'', problema:'', nome:'', telefone:'', email:'' };

        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyog5M5RiwFhBUMgqe2UHB-fByIynTFRmXF8wY090PCIuKXvxk2tn7kh_AO2MrQsXC0/exec'; // Substitua pelo seu ID

        // Caixa 1 - Sele√ß√£o de aparelho
        document.querySelectorAll('#opcoes1 .opcao').forEach(opcao => {
            opcao.addEventListener('click', function() {
                document.querySelectorAll('#opcoes1 .opcao').forEach(o => o.classList.remove('selecionado'));
                this.classList.add('selecionado');
                const valor = this.dataset.valor;
                selecoes.aparelho = this.textContent.trim();
                mostrarCaixa2(valor);
            });
        });

        function mostrarCaixa2(tipoAparelho) {
            const caixa2 = document.getElementById('caixa2');
            const opcoes2 = document.getElementById('opcoes2');
            opcoes2.innerHTML = '';
            manutencoes[tipoAparelho].forEach(manutencao => {
                const div = document.createElement('div');
                div.className = 'opcao';
                div.textContent = manutencao;
                div.addEventListener('click', function() {
                    document.querySelectorAll('#opcoes2 .opcao').
